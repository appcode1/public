!function(){"use strict";var e,t=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],n=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],a=function(e){e.addEventListener("statechange",(function(){"installed"==e.state&&i(e)}))},i=function(e){e.postMessage({action:"skipWaiting"})};function r(){const e=(new Date).getFullYear(),t=(new Date).getMonth()+1,n=(new Date).getDate();var a=(new Date).getHours(),i=(new Date).getMinutes();document.getElementById("inputDate").value=`${e}-${t<10?"0":""}${t}-${n<10?"0":""}${n}`,document.getElementById("inputTime").value=`${a<10?"0":""}${a}:${i<10?"0":""}${i}`}function s(e,a,i){var r,s;switch(e){case t[0]:case t[5]:r=2,s=0;break;case t[1]:case t[6]:r=4,s=2;break;case t[2]:case t[7]:r=6,s=4;break;case t[3]:case t[8]:r=8,s=6;break;case t[4]:case t[9]:r=0,s=8}for(var c=n.indexOf(i?n[0]:n[2]),o=n.indexOf(a),u=i?s:r,d=0;d<12&&c!=o;d++)c=(c+1)%12,u=(u+1)%10;return t[u]}document.getElementById("btnConvert").addEventListener("click",(function(){!function(){var e=document.getElementById("inputDate").value,a=document.getElementById("inputTime").value,i=Number.parseInt(e.split("-")[0]),r=Number.parseInt(e.split("-")[1]),c=Number.parseInt(e.split("-")[2]),o=Number.parseInt(a.split(":")[0]),u=(Number.parseInt(a.split(":")[1]),document.getElementById("showGanZhi"));u.innerHTML="";var d=`${e} ${a}`,l=jqData[i];if(void 0===l)return void(u.innerHTML=`<div class='alert alert-danger'>缺少${i}年的数据</div>`);var v=0;for(v=0;v<24&&!(d<l[v]);v++);var g=v<=2?i-1:i,m=t[(g-4)%10],f=n[(g-4)%12],p=function(e){var t,a=e.substring(0,4),i=jqData[a];for(t=0;t<12&&!(e<i[2*t]);t++);12==t&&(t=0);return n[t]}(d),$=s(m,p,!1),b=function(e,a,i,r){var s=[31,28,31,30,31,30,31,31,30,31,30,31];s[1]=(c=e,(c%100==0?c%400==0:c%4==0)?29:28);var c;for(var o=parseInt(5.25*(e-1)),u=0;u<12&&u<a-1;u++)o+=s[u];o+=i;var d=o%60,l=d%10,v=d%12;r>=23&&(l=(l+1)%10,v=(v+1)%12);return t[0==l?9:l-1]+n[0==v?11:v-1]}(i,r,c,o),I=b[0],E=(b[1],Number.isNaN(o)?"":function(e){return e>=23?n[0]:n[e%2==1?(e+1)/2:e/2]}(o)),w=Number.isNaN(o)?"":s(I,E,!0),h=`${m}${f}年&nbsp;${$}${p}月&nbsp;${b}日&nbsp;${w}${E}时`;document.getElementById("showGanZhi").innerHTML=`<div class="alert alert-success fs-5"><div>时间：${d}</div><div class="text-primary">${h}</div></div>`}()})),document.getElementById("title").addEventListener("click",(function(){r(),document.getElementById("showGanZhi").innerHTML="",document.getElementById("divgzl").innerHTML=""})),r(),navigator.serviceWorker&&(navigator.serviceWorker.register("sw.js").then((function(e){navigator.serviceWorker.controller&&(e.waiting?i(e.waiting):e.installing?a(e.installing):e.addEventListener("updatefound",(function(){a(e.installing)})))})),navigator.serviceWorker.addEventListener("controllerchange",(function(){e||(window.location.reload(),e=!0)})))}();!function(){"use strict";var e,t=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],n=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],a=function(e){e.addEventListener("statechange",(function(){"installed"==e.state&&i(e)}))},i=function(e){e.postMessage({action:"skipWaiting"})};function r(){const e=(new Date).getFullYear(),t=(new Date).getMonth()+1,n=(new Date).getDate();var a=(new Date).getHours(),i=(new Date).getMinutes();document.getElementById("inputDate").value=`${e}-${t<10?"0":""}${t}-${n<10?"0":""}${n}`,document.getElementById("inputTime").value=`${a<10?"0":""}${a}:${i<10?"0":""}${i}`}function s(e,a,i){var r,s;switch(e){case t[0]:case t[5]:r=2,s=0;break;case t[1]:case t[6]:r=4,s=2;break;case t[2]:case t[7]:r=6,s=4;break;case t[3]:case t[8]:r=8,s=6;break;case t[4]:case t[9]:r=0,s=8}for(var c=n.indexOf(i?n[0]:n[2]),o=n.indexOf(a),u=i?s:r,d=0;d<12&&c!=o;d++)c=(c+1)%12,u=(u+1)%10;return t[u]}document.getElementById("btnConvert").addEventListener("click",(function(){!function(){var e=document.getElementById("inputDate").value,a=document.getElementById("inputTime").value,i=Number.parseInt(e.split("-")[0]),r=Number.parseInt(e.split("-")[1]),c=Number.parseInt(e.split("-")[2]),o=Number.parseInt(a.split(":")[0]),u=(Number.parseInt(a.split(":")[1]),document.getElementById("showGanZhi"));u.innerHTML="";var d=`${e} ${a}`,l=jqData[i];if(void 0===l)return void(u.innerHTML=`<div class='alert alert-danger'>缺少${i}年的数据</div>`);var v=0;for(v=0;v<24&&!(d<l[v]);v++);var g=v<=2?i-1:i,m=t[(g-4)%10],f=n[(g-4)%12],p=function(e){var t,a=e.substring(0,4),i=jqData[a];for(t=0;t<12&&!(e<i[2*t]);t++);12==t&&(t=0);return n[t]}(d),$=s(m,p,!1),b=function(e,a,i,r){var s=[31,28,31,30,31,30,31,31,30,31,30,31];s[1]=(c=e,(c%100==0?c%400==0:c%4==0)?29:28);var c;for(var o=parseInt(5.25*(e-1)),u=0;u<12&&u<a-1;u++)o+=s[u];o+=i;var d=o%60,l=d%10,v=d%12;r>=23&&(l=(l+1)%10,v=(v+1)%12);return t[0==l?9:l-1]+n[0==v?11:v-1]}(i,r,c,o),I=b[0],E=(b[1],Number.isNaN(o)?"":function(e){return e>=23?n[0]:n[e%2==1?(e+1)/2:e/2]}(o)),w=Number.isNaN(o)?"":s(I,E,!0),h=`${m}${f}年&nbsp;${$}${p}月&nbsp;${b}日&nbsp;${w}${E}时`;document.getElementById("showGanZhi").innerHTML=`<div class="alert alert-success fs-5"><div>时间：${d}</div><div class="text-primary">${h}</div></div>`}()})),document.getElementById("title").addEventListener("click",(function(){r(),document.getElementById("showGanZhi").innerHTML="",document.getElementById("divgzl").innerHTML=""})),r(),navigator.serviceWorker&&(navigator.serviceWorker.register("sw.js").then((function(e){navigator.serviceWorker.controller&&(e.waiting?i(e.waiting):e.installing?a(e.installing):e.addEventListener("updatefound",(function(){a(e.installing)})))})),navigator.serviceWorker.addEventListener("controllerchange",(function(){e||(window.location.reload(),e=!0)})))}();