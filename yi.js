!function(){"use strict";var e,t=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],n=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],a=function(e){e.addEventListener("statechange",(function(){"installed"==e.state&&r(e)}))},r=function(e){e.postMessage({action:"skipWaiting"})};function i(){const e=(new Date).getFullYear(),t=(new Date).getMonth()+1,n=(new Date).getDate();var a=(new Date).getHours(),r=(new Date).getMinutes();document.getElementById("inputDate").value=`${e}-${t<10?"0":""}${t}-${n<10?"0":""}${n}`,document.getElementById("inputTime").value=`${a<10?"0":""}${a}:${r<10?"0":""}${r}`}function s(e,a,r){var i,s;switch(e){case t[0]:case t[5]:i=2,s=0;break;case t[1]:case t[6]:i=4,s=2;break;case t[2]:case t[7]:i=6,s=4;break;case t[3]:case t[8]:i=8,s=6;break;case t[4]:case t[9]:i=0,s=8}for(var d=n.indexOf(r?n[0]:n[2]),c=n.indexOf(a),l=r?s:i,o=0;o<12&&d!=c;o++)d=(d+1)%12,l=(l+1)%10;return t[l]}document.getElementById("btnConvert").addEventListener("click",(function(){!function(){var e=document.getElementById("inputDate").value,a=document.getElementById("inputTime").value,r=Number.parseInt(e.split("-")[0]),i=Number.parseInt(e.split("-")[1]),d=Number.parseInt(e.split("-")[2]),c=Number.parseInt(a.split(":")[0]),l=(Number.parseInt(a.split(":")[1]),document.getElementById("showGanZhi"));l.innerHTML="";var o=`${e} ${a}`,u=jqData[r];if(void 0===u)return void(l.innerHTML=`<div class='alert alert-danger'>缺少${r}年的数据</div>`);var v=0;for(v=0;v<24&&!(o<u[v]);v++);var g=v<=2?r-1:r,m=t[(g-4)%10],$=n[(g-4)%12],b=function(e){var t,a=e.substring(0,4),r=jqData[a];for(t=0;t<12&&!(e<r[2*t]);t++);12==t&&(t=0);return n[t]}(o),p=s(m,b,!1),f=function(e,a,r,i){var s=[31,28,31,30,31,30,31,31,30,31,30,31];s[1]=(d=e,(d%100==0?d%400==0:d%4==0)?29:28);var d;for(var c=parseInt(5.25*(e-1)),l=0;l<12&&l<a-1;l++)c+=s[l];c+=r;var o=c%60,u=o%10,v=o%12;i>=23&&(u=(u+1)%10,v=(v+1)%12);return t[0==u?9:u-1]+n[0==v?11:v-1]}(r,i,d,c),I=f[0],E=f[1],w=Number.isNaN(c)?"":function(e){return e>=23?n[0]:n[e%2==1?(e+1)/2:e/2]}(c),y=Number.isNaN(c)?"":s(I,w,!0),h=`${m}${$}年&nbsp;${p}${b}月&nbsp;${f}日&nbsp;${y}${w}时`;document.getElementById("showGanZhi").innerHTML=`<div class="alert alert-success fs-5"><div>时间：${o}</div><div class="text-primary">${h}</div></div>`,document.getElementById("divgzl").innerHTML=`<div class="timetitle">时间: <span class="text-primary">${o}</span></div><div class="row"><div class="col-6"><table id="idgzl" class="table table-bordered table-padding-0 text-center fs-5 mb-2"><tr><td></td><td>年</td><td>月</td><td>日</td><td>时</td></tr><tr><td class="gzlabel">干<br>支</td><td class="text-year">${m}<br>${$}</td><td class="text-month">${p}<br>${b}</td><td class="text-day">${I}<br>${E}</td><td class="text-hour">${y}<br>${w}</td></tr></table></div></div>`}()})),document.getElementById("title").addEventListener("click",(function(){i(),document.getElementById("showGanZhi").innerHTML="",document.getElementById("divgzl").innerHTML=""})),i(),navigator.serviceWorker&&(navigator.serviceWorker.register("./sw.js").then((function(e){navigator.serviceWorker.controller&&(e.waiting?r(e.waiting):e.installing?a(e.installing):e.addEventListener("updatefound",(function(){a(e.installing)})))})),navigator.serviceWorker.addEventListener("controllerchange",(function(){e||(window.location.reload(),e=!0)})))}();